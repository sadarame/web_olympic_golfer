    <!DOCTYPE html>
    <html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯ã‚´ãƒ«ãƒ•ã‚¹ã‚³ã‚¢è¨˜éŒ²</title>
        <!-- Tailwind CSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            /* Interãƒ•ã‚©ãƒ³ãƒˆã®æŒ‡å®š */
            body {
                font-family: 'Inter', sans-serif;
                background-color: #f3f4f6; /* è–„ã„ã‚°ãƒ¬ãƒ¼ã®èƒŒæ™¯ */
                color: #333;
            }
            /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ */
            ::-webkit-scrollbar {
                width: 8px;
            }
            ::-webkit-scrollbar-track {
                background: #e0e0e0;
                border-radius: 10px;
            }
            ::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 10px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
            /* ãƒœãƒ¼ãƒŠã‚¹ãƒœã‚¿ãƒ³ã®é¸æŠçŠ¶æ…‹ */
            .selected-bonus {
                outline: 2px solid #3b82f6; /* é’ã„æ ç·š */
                outline-offset: 2px;
                box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
            }
        </style>
    </head>
    <body class="min-h-screen p-4">
    <header class="bg-white shadow-md p-4 mb-8 flex justify-between items-center">
        <h1 class="text-xl font-bold text-green-700">â›³ ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯ã‚´ãƒ«ãƒ•ã‚¹ã‚³ã‚¢</h1>
        <div>
            {% if user_info %}
                <span class="text-gray-700">ã‚ˆã†ã“ãã€{{ user_info.name }}ã•ã‚“</span>
                <a href="/logout" class="ml-4 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition duration-300 ease-in-out">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
            {% else %}
                <a href="{{ url_for('google.login') }}" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-sm transition duration-300 ease-in-out">Googleã§ãƒ­ã‚°ã‚¤ãƒ³</a>
            {% endif %}
        </div>
    </header>
        <div id="app-container" class="bg-white rounded-xl shadow-lg p-6 w-full max-w-md mx-auto my-8">

            <!-- 1. ãƒ›ãƒ¼ãƒ ç”»é¢ -->
            <section id="home-section" class="active">
                <h1 class="text-3xl font-bold text-center mb-6 text-green-700">â›³ ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯ã‚´ãƒ«ãƒ•ã‚¹ã‚³ã‚¢</h1>
                <p class="text-center text-gray-600 mb-8">ã‚´ãƒ«ãƒ•ã®ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯å½¢å¼ã®ã‚¹ã‚³ã‚¢ã‚’ç°¡å˜ã«è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ï¼</p>
                <button id="resume-round-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 mb-4 hidden">
                    <i class="fas fa-redo mr-2"></i> ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’å†é–‹
                </button>
                <button id="start-new-round-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                    <i class="fas fa-plus-circle mr-2"></i> æ–°è¦ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’é–‹å§‹
                </button>
                <div class="mt-6 text-center">
                    <button id="view-history-btn" class="text-blue-600 hover:text-blue-800 font-semibold py-2 px-4 rounded-lg transition duration-300 ease-in-out">
                        <i class="fas fa-history mr-2"></i> éå»ã®ãƒ©ã‚¦ãƒ³ãƒ‰å±¥æ­´ (é–‹ç™ºä¸­)
                    </button>
                </div>
            </section>

            <!-- 2. ãƒ©ã‚¦ãƒ³ãƒ‰è¨­å®šç”»é¢ -->
            <section id="setup-section" class="hidden">
                <h2 class="text-2xl font-bold text-center mb-6 text-green-700">ãƒ©ã‚¦ãƒ³ãƒ‰è¨­å®š</h2>

                <div class="mb-4">
                    <label for="course-name" class="block text-gray-700 text-sm font-bold mb-2">
                        ã‚³ãƒ¼ã‚¹å:
                    </label>
                    <input type="text" id="course-name" class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500" placeholder="ä¾‹: ã€‡ã€‡ã‚«ãƒ³ãƒˆãƒªãƒ¼ã‚¯ãƒ©ãƒ–">
                </div>

                <div class="mb-4">
                    <label for="bet-amount" class="block text-gray-700 text-sm font-bold mb-2">
                        1ãƒã‚¤ãƒ³ãƒˆã‚ãŸã‚Šã®è³­ã‘é‡‘ (å††):
                    </label>
                    <input type="number" id="bet-amount" class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500" value="100" min="0">
                </div>

                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">
                        ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼:
                    </label>
                    <div id="players-container">
                        <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
                    </div>
                    <button id="add-player-btn" class="mt-3 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                        <i class="fas fa-user-plus mr-2"></i> ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¿½åŠ 
                    </button>
                </div>

                <div class="flex justify-between">
                    <button id="back-to-home-from-setup-btn" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">
                        <i class="fas fa-arrow-left mr-2"></i> æˆ»ã‚‹
                    </button>
                    <button id="start-round-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                        <i class="fas fa-play-circle mr-2"></i> ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’é–‹å§‹
                    </button>
                </div>
            </section>

            <!-- 3. ãƒ©ã‚¦ãƒ³ãƒ‰è¨˜éŒ²ç”»é¢ -->
            <section id="record-section" class="hidden">
                <h2 class="text-2xl font-bold text-center mb-4 text-green-700">ãƒ©ã‚¦ãƒ³ãƒ‰è¨˜éŒ²</h2>

                <div class="text-center mb-6">
                    <p class="text-gray-600 text-lg">ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«:</p>
                    <p id="current-hole-display" class="text-4xl font-extrabold text-green-800">HOLE 1</p>
                    <p id="hole-par-display" class="text-xl text-gray-700">PAR 4</p>
                </div>

                <div id="player-score-inputs" class="space-y-4 mb-6">
                    <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ã‚¹ã‚³ã‚¢å…¥åŠ›ã¨ãƒœãƒ¼ãƒŠã‚¹ãƒœã‚¿ãƒ³ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
                </div>

                <div class="bg-green-50 p-4 rounded-lg shadow-inner mb-6">
                    <h3 class="text-lg font-bold text-green-800 mb-2">ç¾åœ¨ã®ãƒã‚¤ãƒ³ãƒˆçŠ¶æ³</h3>
                    <div id="current-points-summary" class="grid grid-cols-2 gap-2 text-sm">
                        <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ãƒã‚¤ãƒ³ãƒˆã‚µãƒãƒªãƒ¼ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
                    </div>
                </div>

                <div class="flex justify-between mt-6">
                    <button id="prev-hole-btn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">
                        <i class="fas fa-arrow-left mr-2"></i> å‰ã®ãƒ›ãƒ¼ãƒ«
                    </button>
                    <button id="next-hole-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                        <i class="fas fa-arrow-right mr-2"></i> æ¬¡ã®ãƒ›ãƒ¼ãƒ«
                    </button>
                </div>
                <button id="end-round-btn" class="w-full mt-4 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">
                    <i class="fas fa-flag-checkered mr-2"></i> ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’çµ‚äº†
                </button>
            </section>

            <!-- 4. ãƒ©ã‚¦ãƒ³ãƒ‰çµæœç”»é¢ -->
            <section id="results-section" class="hidden">
                <h2 class="text-2xl font-bold text-center mb-6 text-green-700">ãƒ©ã‚¦ãƒ³ãƒ‰çµæœ</h2>

                <div id="final-winner-display" class="text-center mb-6">
                    <p class="text-gray-600 text-lg">æœ€çµ‚çš„ãªå‹è€…:</p>
                    <p class="text-4xl font-extrabold text-indigo-700">ã¾ã è¨ˆç®—ã•ã‚Œã¦ã„ã¾ã›ã‚“</p>
                </div>

                <div class="bg-blue-50 p-4 rounded-lg shadow-inner mb-6">
                    <h3 class="text-lg font-bold text-blue-800 mb-2">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥æœ€çµ‚æˆç¸¾</h3>
                    <div id="final-player-summary" class="space-y-2">
                        <!-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®æœ€çµ‚æˆç¸¾ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-lg font-bold text-gray-700 mb-2">ãƒ›ãƒ¼ãƒ«åˆ¥è©³ç´°</h3>
                    <div id="hole-by-hole-details" class="space-y-4">
                        <!-- ãƒ›ãƒ¼ãƒ«ã”ã¨ã®è©³ç´°ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
                    </div>
                </div>

                <button id="back-to-home-from-results-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105">
                    <i class="fas fa-home mr-2"></i> ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
                </button>
            </section>

            <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ï¼ˆalertã®ä»£ã‚ã‚Šï¼‰ -->
            <div id="message-box" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
                <div class="bg-white rounded-lg p-6 shadow-xl max-w-sm w-full text-center">
                    <p id="message-content" class="text-lg font-semibold mb-4"></p>
                    <button id="message-ok-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out">OK</button>
                </div>
            </div>

        </div>

        <script>
            // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨åˆæœŸè¨­å®š
            let currentRound = {
                courseName: '',
                betAmount: 100,
                players: [], // { name: 'Player A', scores: [], holeBonuses: [], currentPoints: 0, totalPoints: 0 }
                currentHole: 1,
                maxHoles: 18, // é€šå¸¸ã®ã‚´ãƒ«ãƒ•ã¯18ãƒ›ãƒ¼ãƒ«
                holePars: [4, 4, 3, 5, 4, 3, 4, 5, 4, 4, 4, 3, 5, 4, 3, 4, 5, 4] // ä¾‹: 18ãƒ›ãƒ¼ãƒ«ã®ãƒ‘ãƒ¼è¨­å®š
            };

            // DOMè¦ç´ ã®å–å¾—
            const homeSection = document.getElementById('home-section');
            const setupSection = document.getElementById('setup-section');
            const recordSection = document.getElementById('record-section');
            const resultsSection = document.getElementById('results-section');

            const resumeRoundBtn = document.getElementById('resume-round-btn'); // æ–°ã—ãè¿½åŠ 
            const startNewRoundBtn = document.getElementById('start-new-round-btn');
            const backToHomeFromSetupBtn = document.getElementById('back-to-home-from-setup-btn');
            const startRoundBtn = document.getElementById('start-round-btn');
            const addPlayerBtn = document.getElementById('add-player-btn');
            const playersContainer = document.getElementById('players-container');
            const courseNameInput = document.getElementById('course-name');
            const betAmountInput = document.getElementById('bet-amount');

            const currentHoleDisplay = document.getElementById('current-hole-display');
            const holeParDisplay = document.getElementById('hole-par-display');
            const playerScoreInputs = document.getElementById('player-score-inputs');
            const currentPointsSummary = document.getElementById('current-points-summary');
            const prevHoleBtn = document.getElementById('prev-hole-btn');
            const nextHoleBtn = document.getElementById('next-hole-btn');
            const endRoundBtn = document.getElementById('end-round-btn');

            const finalWinnerDisplay = document.getElementById('final-winner-display');
            const finalPlayerSummary = document.getElementById('final-player-summary');
            const holeByHoleDetails = document.getElementById('hole-by-hole-details');
            const backToHomeFromResultsBtn = document.getElementById('back-to-home-from-results-btn');

            const messageBox = document.getElementById('message-box');
            const messageContent = document.getElementById('message-content');
            const messageOkBtn = document.getElementById('message-ok-btn');

            // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•° (alertã®ä»£ã‚ã‚Š)
            function showMessageBox(message) {
                messageContent.textContent = message;
                messageBox.classList.remove('hidden');
            }

            // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ã‚’éè¡¨ç¤ºã«ã™ã‚‹é–¢æ•°
            messageOkBtn.addEventListener('click', () => {
                messageBox.classList.add('hidden');
            });

            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆé–¢æ•°
            function showSection(sectionToShow) {
                [homeSection, setupSection, recordSection, resultsSection].forEach(section => {
                    section.classList.add('hidden');
                });
                sectionToShow.classList.remove('hidden');
            }

            // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã™ã‚‹é–¢æ•°
            function addPlayerInput(playerName = '') {
                const playerCount = playersContainer.children.length;
                const playerDiv = document.createElement('div');
                playerDiv.className = 'flex items-center mb-2';
                playerDiv.innerHTML = `
                    <input type="text" placeholder="ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å" value="${playerName}"
                        class="player-name-input shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500 mr-2">
                    <button class="remove-player-btn bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded-lg shadow-sm transition duration-300 ease-in-out">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                playersContainer.appendChild(playerDiv);

                // å‰Šé™¤ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
                playerDiv.querySelector('.remove-player-btn').addEventListener('click', () => {
                    if (playersContainer.children.length > 1) { // å°‘ãªãã¨ã‚‚1äººã¯æ®‹ã™
                        playersContainer.removeChild(playerDiv);
                    } else {
                        showMessageBox('ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯å°‘ãªãã¨ã‚‚1äººå¿…è¦ã§ã™ã€‚');
                    }
                });
            }

            // ãƒ©ã‚¦ãƒ³ãƒ‰è¨­å®šã®åˆæœŸåŒ–
            function initializeSetup() {
                playersContainer.innerHTML = ''; // æ—¢å­˜ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ã‚¯ãƒªã‚¢
                addPlayerInput('ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1'); // åˆæœŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¿½åŠ 
                addPlayerInput('ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2');
                courseNameInput.value = '';
                betAmountInput.value = 100;
            }

            // localStorageã«ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã‚’ä¿å­˜ã™ã‚‹é–¢æ•°
            function saveGame() {
                try {
                    localStorage.setItem('golfSavedRound', JSON.stringify(currentRound));
                } catch (e) {
                    console.error('Failed to save game to localStorage:', e);
                    showMessageBox('ã‚²ãƒ¼ãƒ ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãŒã„ã£ã±ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚');
                }
            }

            // localStorageã‹ã‚‰ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã‚’èª­ã¿è¾¼ã‚€é–¢æ•°
            function loadGame() {
                try {
                    const savedData = localStorage.getItem('golfSavedRound');
                    if (savedData) {
                        return JSON.parse(savedData);
                    }
                } catch (e) {
                    console.error('Failed to load game from localStorage:', e);
                    // ç ´æã—ãŸãƒ‡ãƒ¼ã‚¿ã®å ´åˆã¯ã‚¯ãƒªã‚¢
                    clearSavedGame();
                }
                return null;
            }

            // localStorageã‹ã‚‰ä¿å­˜ã•ã‚ŒãŸã‚²ãƒ¼ãƒ ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é–¢æ•°
            function clearSavedGame() {
                localStorage.removeItem('golfSavedRound');
            }


            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            startNewRoundBtn.addEventListener('click', () => {
                clearSavedGame(); // æ–°è¦ãƒ©ã‚¦ãƒ³ãƒ‰é–‹å§‹æ™‚ã¯ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢
                initializeSetup();
                showSection(setupSection);
            });

            // ãƒ©ã‚¦ãƒ³ãƒ‰å†é–‹ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            resumeRoundBtn.addEventListener('click', () => {
                const savedRound = loadGame();
                if (savedRound) {
                    currentRound = savedRound; // ä¿å­˜ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ç¾åœ¨ã®ãƒ©ã‚¦ãƒ³ãƒ‰ã«ã‚»ãƒƒãƒˆ
                    initializeRecordSection(); // è¨˜éŒ²ç”»é¢ã‚’åˆæœŸåŒ–
                    showSection(recordSection); // è¨˜éŒ²ç”»é¢ã‚’è¡¨ç¤º
                } else {
                    showMessageBox('ä¿å­˜ã•ã‚ŒãŸãƒ©ã‚¦ãƒ³ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚');
                    resumeRoundBtn.classList.add('hidden'); // ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹
                }
            });

            backToHomeFromSetupBtn.addEventListener('click', () => {
                showSection(homeSection);
                checkSavedGameAndShowResumeButton(); // ãƒ›ãƒ¼ãƒ ã«æˆ»ã£ãŸã‚‰å†é–‹ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
            });

            addPlayerBtn.addEventListener('click', () => {
                addPlayerInput();
            });

            startRoundBtn.addEventListener('click', () => {
                const courseName = courseNameInput.value.trim();
                const betAmount = parseInt(betAmountInput.value, 10);
                const playerNames = Array.from(document.querySelectorAll('.player-name-input'))
                                        .map(input => input.value.trim())
                                        .filter(name => name !== '');

                if (!courseName) {
                    showMessageBox('ã‚³ãƒ¼ã‚¹åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }
                if (isNaN(betAmount) || betAmount < 0) {
                    showMessageBox('è³­ã‘é‡‘ã¯0ä»¥ä¸Šã®æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }
                if (playerNames.length === 0) {
                    showMessageBox('ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’1äººä»¥ä¸Šè¿½åŠ ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }
                if (playerNames.some((name, index, arr) => arr.indexOf(name) !== index)) {
                    showMessageBox('ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åãŒé‡è¤‡ã—ã¦ã„ã¾ã™ã€‚');
                    return;
                }

                currentRound.courseName = courseName;
                currentRound.betAmount = betAmount;
                currentRound.players = playerNames.map(name => ({
                    name: name,
                    scores: Array(currentRound.maxHoles).fill(null), // å„ãƒ›ãƒ¼ãƒ«ã®ã‚¹ã‚³ã‚¢ã‚’nullã§åˆæœŸåŒ–
                    holeBonuses: Array(currentRound.maxHoles).fill(null), // å„ãƒ›ãƒ¼ãƒ«ã®ãƒœãƒ¼ãƒŠã‚¹ã‚’nullã§åˆæœŸåŒ–
                    currentPoints: 0, // ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«ã®ãƒã‚¤ãƒ³ãƒˆ
                    totalPoints: 0 // ãƒ©ã‚¦ãƒ³ãƒ‰å…¨ä½“ã®åˆè¨ˆãƒã‚¤ãƒ³ãƒˆ
                }));
                currentRound.currentHole = 1;

                initializeRecordSection();
                saveGame(); // ãƒ©ã‚¦ãƒ³ãƒ‰é–‹å§‹æ™‚ã«ä¿å­˜
                showSection(recordSection);
            });

            // ãƒ©ã‚¦ãƒ³ãƒ‰è¨˜éŒ²ç”»é¢ã®åˆæœŸåŒ–
            function initializeRecordSection() {
                updateHoleDisplay();
                renderPlayerScoreInputs();
                calculateHolePoints(); // ã‚¹ã‚³ã‚¢å…¥åŠ›ãŒãªãã¦ã‚‚ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆã¯è¨ˆç®—ã•ã‚Œã‚‹ã‚ˆã†ã«
                updateCurrentPointsSummary();
                updateNavigationButtons();
            }

            // ãƒ›ãƒ¼ãƒ«è¡¨ç¤ºã®æ›´æ–°
            function updateHoleDisplay() {
                currentHoleDisplay.textContent = `HOLE ${currentRound.currentHole}`;
                const par = currentRound.holePars[currentRound.currentHole - 1];
                holeParDisplay.textContent = `PAR ${par}`;
            }

            // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ã‚¹ã‚³ã‚¢å…¥åŠ›UIã®æç”»
            function renderPlayerScoreInputs() {
                playerScoreInputs.innerHTML = '';
                currentRound.players.forEach((player, playerIndex) => {
                    const holeScore = player.scores[currentRound.currentHole - 1];
                    const selectedBonus = player.holeBonuses[currentRound.currentHole - 1]; // é¸æŠã•ã‚Œã¦ã„ã‚‹ãƒœãƒ¼ãƒŠã‚¹

                    const scoreInputDiv = document.createElement('div');
                    scoreInputDiv.className = 'flex flex-col bg-gray-50 p-3 rounded-lg shadow-sm';
                    scoreInputDiv.innerHTML = `
                        <div class="flex items-center mb-2">
                            <span class="font-semibold text-lg w-24">${player.name}:</span>
                            <div class="flex items-center ml-auto">
                                <button class="score-minus-btn bg-red-400 hover:bg-red-500 text-white font-bold py-1 px-3 rounded-l-lg transition duration-300 ease-in-out transform hover:scale-105" data-player-index="${playerIndex}">-</button>
                                <input type="number" class="score-input w-20 text-center border-t border-b border-gray-300 py-1 text-gray-800 text-lg font-bold focus:outline-none" value="${holeScore !== null ? holeScore : ''}" placeholder="ã‚¹ã‚³ã‚¢" data-player-index="${playerIndex}">
                                <button class="score-plus-btn bg-green-400 hover:bg-green-500 text-white font-bold py-1 px-3 rounded-r-lg transition duration-300 ease-in-out transform hover:scale-105" data-player-index="${playerIndex}">+</button>
                            </div>
                        </div>
                        <div class="flex flex-wrap justify-center gap-1 mt-2">
                            <button class="bonus-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-1 px-2 rounded-full text-xs ${selectedBonus === 'diamond' ? 'selected-bonus' : ''}" data-bonus-type="diamond" data-player-index="${playerIndex}">ğŸ’ ãƒ€ã‚¤ãƒ¤ (+4)</button>
                            <button class="bonus-btn bg-yellow-300 hover:bg-yellow-400 text-yellow-800 font-bold py-1 px-2 rounded-full text-xs ${selectedBonus === 'gold' ? 'selected-bonus' : ''}" data-bonus-type="gold" data-player-index="${playerIndex}">ğŸ¥‡ é‡‘ (+3)</button>
                            <button class="bonus-btn bg-gray-400 hover:bg-gray-500 text-gray-800 font-bold py-1 px-2 rounded-full text-xs ${selectedBonus === 'silver' ? 'selected-bonus' : ''}" data-bonus-type="silver" data-player-index="${playerIndex}">ğŸ¥ˆ éŠ€ (+2)</button>
                            <button class="bonus-btn bg-orange-300 hover:bg-orange-400 text-orange-800 font-bold py-1 px-2 rounded-full text-xs ${selectedBonus === 'bronze' ? 'selected-bonus' : ''}" data-bonus-type="bronze" data-player-index="${playerIndex}">ğŸ¥‰ éŠ… (+1)</button>
                        </div>
                    `;
                    playerScoreInputs.appendChild(scoreInputDiv);

                    // ã‚¹ã‚³ã‚¢å…¥åŠ›ã¨ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
                    scoreInputDiv.querySelector('.score-input').addEventListener('change', (e) => {
                        const playerIndex = parseInt(e.target.dataset.playerIndex, 10);
                        let score = parseInt(e.target.value, 10);
                        if (isNaN(score) || score < 1) {
                            score = null; // ç„¡åŠ¹ãªå…¥åŠ›ã¯nullã«æˆ»ã™
                            e.target.value = '';
                        }
                        currentRound.players[playerIndex].scores[currentRound.currentHole - 1] = score;
                        calculateHolePoints();
                        updateCurrentPointsSummary();
                        saveGame(); // ã‚¹ã‚³ã‚¢å¤‰æ›´æ™‚ã«ä¿å­˜
                    });

                    scoreInputDiv.querySelectorAll('.score-plus-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const playerIndex = parseInt(e.target.dataset.playerIndex, 10);
                            const input = scoreInputDiv.querySelector(`.score-input[data-player-index="${playerIndex}"]`);
                            let score = parseInt(input.value, 10) || 0;
                            score++;
                            input.value = score;
                            currentRound.players[playerIndex].scores[currentRound.currentHole - 1] = score;
                            calculateHolePoints();
                            updateCurrentPointsSummary();
                            saveGame(); // ã‚¹ã‚³ã‚¢å¤‰æ›´æ™‚ã«ä¿å­˜
                        });
                    });

                    scoreInputDiv.querySelectorAll('.score-minus-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const playerIndex = parseInt(e.target.dataset.playerIndex, 10);
                            const input = scoreInputDiv.querySelector(`.score-input[data-player-index="${playerIndex}"]`);
                            let score = parseInt(input.value, 10) || 0;
                            if (score > 1) { // ã‚¹ã‚³ã‚¢ã¯1æœªæº€ã«ãªã‚‰ãªã„
                                score--;
                            }
                            input.value = score;
                            currentRound.players[playerIndex].scores[currentRound.currentHole - 1] = score;
                            calculateHolePoints();
                            updateCurrentPointsSummary();
                            saveGame(); // ã‚¹ã‚³ã‚¢å¤‰æ›´æ™‚ã«ä¿å­˜
                        });
                    });

                    // ãƒœãƒ¼ãƒŠã‚¹ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
                    scoreInputDiv.querySelectorAll('.bonus-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const playerIndex = parseInt(e.target.dataset.playerIndex, 10);
                            const bonusType = e.target.dataset.bonusType;
                            const currentPlayer = currentRound.players[playerIndex];
                            const currentHoleIndex = currentRound.currentHole - 1;

                            // ãƒœãƒ¼ãƒŠã‚¹ã®é¸æŠã‚’ãƒˆã‚°ãƒ«
                            if (currentPlayer.holeBonuses[currentHoleIndex] === bonusType) {
                                currentPlayer.holeBonuses[currentHoleIndex] = null; // é¸æŠè§£é™¤
                            } else {
                                currentPlayer.holeBonuses[currentHoleIndex] = bonusType; // æ–°ã—ã„ãƒœãƒ¼ãƒŠã‚¹ã‚’é¸æŠ
                            }
                            // UIã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«å†æç”»
                            renderPlayerScoreInputs();
                            calculateHolePoints();
                            updateCurrentPointsSummary();
                            saveGame(); // ãƒœãƒ¼ãƒŠã‚¹å¤‰æ›´æ™‚ã«ä¿å­˜
                        });
                    });
                });
            }

            // ãƒ›ãƒ¼ãƒ«ã”ã¨ã®ãƒã‚¤ãƒ³ãƒˆè¨ˆç®— (ã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯å½¢å¼ã®ç°¡æ˜“ç‰ˆ)
            function calculateHolePoints() {
                const currentHolePar = currentRound.holePars[currentRound.currentHole - 1];
                let lowestScore = Infinity;
                let lowestScorePlayers = [];

                // ã¾ãšã€ãã®ãƒ›ãƒ¼ãƒ«ã®æœ€ä½ã‚¹ã‚³ã‚¢ã‚’è¦‹ã¤ã‘ã‚‹
                currentRound.players.forEach(player => {
                    const score = player.scores[currentRound.currentHole - 1];
                    if (score !== null && score < lowestScore) {
                        lowestScore = score;
                        lowestScorePlayers = [player];
                    } else if (score !== null && score === lowestScore) {
                        lowestScorePlayers.push(player);
                    }
                });

                currentRound.players.forEach(player => {
                    const score = player.scores[currentRound.currentHole - 1];
                    let points = 0;

                    if (score === null) {
                        player.currentPoints = 0; // ã‚¹ã‚³ã‚¢ãŒæœªå…¥åŠ›ãªã‚‰ãƒã‚¤ãƒ³ãƒˆãªã—
                        // ãŸã ã—ã€ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆã¯ã‚¹ã‚³ã‚¢æœªå…¥åŠ›ã§ã‚‚åŠ ç®—ã•ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
                    } else {
                        const scoreDiff = score - currentHolePar; // ãƒ‘ãƒ¼ã¨ã®å·®

                        // åŸºæœ¬ãƒã‚¤ãƒ³ãƒˆ (ç°¡æ˜“çš„ãªã‚ªãƒªãƒ³ãƒ”ãƒƒã‚¯ãƒ«ãƒ¼ãƒ«)
                        if (scoreDiff === -2) { // ã‚¤ãƒ¼ã‚°ãƒ«
                            points = 3;
                        } else if (scoreDiff === -1) { // ãƒãƒ¼ãƒ‡ã‚£ãƒ¼
                            points = 2;
                        } else if (scoreDiff === 0) { // ãƒ‘ãƒ¼
                            points = 1;
                        } else if (scoreDiff === 1) { // ãƒœã‚®ãƒ¼
                            points = 0; // ãƒœã‚®ãƒ¼ã¯ãƒã‚¤ãƒ³ãƒˆãªã—
                        } else { // ãƒ€ãƒ–ãƒ«ãƒœã‚®ãƒ¼ä»¥ä¸Š
                            points = -1; // ãƒ€ãƒ–ãƒ«ãƒœã‚®ãƒ¼ä»¥ä¸Šã¯ãƒã‚¤ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆ
                        }

                        // ãã®ãƒ›ãƒ¼ãƒ«ã®ãƒ™ã‚¹ãƒˆã‚¹ã‚³ã‚¢ã ã£ãŸå ´åˆã€è¿½åŠ ãƒã‚¤ãƒ³ãƒˆ
                        if (lowestScorePlayers.length === 1 && lowestScorePlayers[0].name === player.name) {
                            points += 1; // ãƒ™ã‚¹ãƒˆã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒŠã‚¹
                        }
                    }

                    // ãƒ€ã‚¤ãƒ¤/é‡‘/éŠ€/éŠ…ãƒœã‚¿ãƒ³ã‹ã‚‰ã®ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆã‚’åŠ ç®—
                    const bonusType = player.holeBonuses[currentRound.currentHole - 1];
                    if (bonusType === 'diamond') {
                        points += 4;
                    } else if (bonusType === 'gold') {
                        points += 3;
                    } else if (bonusType === 'silver') {
                        points += 2;
                    } else if (bonusType === 'bronze') {
                        points += 1;
                    }

                    player.currentPoints = points;
                });
            }

            // ç¾åœ¨ã®ãƒã‚¤ãƒ³ãƒˆã‚µãƒãƒªãƒ¼UIã®æ›´æ–°
            function updateCurrentPointsSummary() {
                currentPointsSummary.innerHTML = '';
                currentRound.players.forEach(player => {
                    const playerPointsDiv = document.createElement('div');
                    playerPointsDiv.className = 'flex justify-between items-center';
                    playerPointsDiv.innerHTML = `
                        <span class="font-medium">${player.name}:</span>
                        <span class="font-bold text-lg ${player.currentPoints >= 0 ? 'text-green-700' : 'text-red-700'}">${player.currentPoints} Pts</span>
                    `;
                    currentPointsSummary.appendChild(playerPointsDiv);
                });
            }

            // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹æ›´æ–°
            function updateNavigationButtons() {
                prevHoleBtn.disabled = currentRound.currentHole === 1;
                nextHoleBtn.textContent = currentRound.currentHole === currentRound.maxHoles ? 'ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†' : 'æ¬¡ã®ãƒ›ãƒ¼ãƒ«';
                nextHoleBtn.classList.toggle('bg-blue-500', currentRound.currentHole < currentRound.maxHoles);
                nextHoleBtn.classList.toggle('hover:bg-blue-600', currentRound.currentHole < currentRound.maxHoles);
                nextHoleBtn.classList.toggle('bg-green-600', currentRound.currentHole === currentRound.maxHoles);
                nextHoleBtn.classList.toggle('hover:bg-green-700', currentRound.currentHole === currentRound.maxHoles);
                endRoundBtn.style.display = currentRound.currentHole === currentRound.maxHoles ? 'none' : 'block'; // æœ€çµ‚ãƒ›ãƒ¼ãƒ«ã§ã¯éè¡¨ç¤º
            }

            prevHoleBtn.addEventListener('click', () => {
                if (currentRound.currentHole > 1) {
                    currentRound.currentHole--;
                    initializeRecordSection();
                    saveGame(); // ãƒ›ãƒ¼ãƒ«ç§»å‹•æ™‚ã«ä¿å­˜
                }
            });

            nextHoleBtn.addEventListener('click', () => {
                // ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«ã®å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ã‚³ã‚¢ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
                // ãƒœãƒ¼ãƒŠã‚¹ãƒã‚¤ãƒ³ãƒˆã¯ã‚¹ã‚³ã‚¢ãŒæœªå…¥åŠ›ã§ã‚‚åŠ ç®—ã•ã‚Œã‚‹ãŸã‚ã€ã“ã“ã§ã¯ã‚¹ã‚³ã‚¢ã®ã¿ã‚’ãƒã‚§ãƒƒã‚¯
                const allScoresEntered = currentRound.players.every(player =>
                    player.scores[currentRound.currentHole - 1] !== null
                );

                if (!allScoresEntered) {
                    showMessageBox('ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«ã®å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ã‚³ã‚¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }

                // ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«ã®ãƒã‚¤ãƒ³ãƒˆã‚’åˆè¨ˆãƒã‚¤ãƒ³ãƒˆã«åŠ ç®—
                currentRound.players.forEach(player => {
                    player.totalPoints += player.currentPoints;
                });

                if (currentRound.currentHole < currentRound.maxHoles) {
                    currentRound.currentHole++;
                    initializeRecordSection();
                    saveGame(); // ãƒ›ãƒ¼ãƒ«ç§»å‹•æ™‚ã«ä¿å­˜
                } else {
                    // æœ€çµ‚ãƒ›ãƒ¼ãƒ«ã®å ´åˆã€çµæœç”»é¢ã¸
                    endRound();
                }
            });

            endRoundBtn.addEventListener('click', () => {
                // é€”ä¸­çµ‚äº†ã®å ´åˆã‚‚ã€ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«ã®ãƒã‚¤ãƒ³ãƒˆã‚’åŠ ç®—
                const allScoresEntered = currentRound.players.every(player =>
                    player.scores[currentRound.currentHole - 1] !== null
                );

                if (!allScoresEntered) {
                    showMessageBox('ç¾åœ¨ã®ãƒ›ãƒ¼ãƒ«ã®å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¹ã‚³ã‚¢ã‚’å…¥åŠ›ã—ã¦ã‹ã‚‰ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’çµ‚äº†ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }

                currentRound.players.forEach(player => {
                    player.totalPoints += player.currentPoints;
                });
                endRound();
            });

            // ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†å‡¦ç†
            function endRound() {
                renderResults();
                showSection(resultsSection);
                clearSavedGame(); // ãƒ©ã‚¦ãƒ³ãƒ‰çµ‚äº†æ™‚ã«ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢
            }

            // çµæœç”»é¢ã®æç”»
            function renderResults() {
                let maxPoints = -Infinity;
                let winners = [];

                currentRound.players.forEach(player => {
                    if (player.totalPoints > maxPoints) {
                        maxPoints = player.totalPoints;
                        winners = [player.name];
                    } else if (player.totalPoints === maxPoints) {
                        winners.push(player.name);
                    }
                });

                if (winners.length === 1) {
                    finalWinnerDisplay.innerHTML = `<p class="text-gray-600 text-lg">æœ€çµ‚çš„ãªå‹è€…:</p><p class="text-4xl font-extrabold text-indigo-700">${winners[0]}ã•ã‚“ï¼</p>`;
                } else if (winners.length > 1) {
                    finalWinnerDisplay.innerHTML = `<p class="text-gray-600 text-lg">æœ€çµ‚çš„ãªå‹è€…:</p><p class="text-4xl font-extrabold text-indigo-700">${winners.join(', ')}ã•ã‚“ (åŒç‚¹)</p>`;
                } else {
                    finalWinnerDisplay.innerHTML = `<p class="text-gray-600 text-lg">æœ€çµ‚çš„ãªå‹è€…:</p><p class="text-4xl font-extrabold text-gray-500">å‹è€…ãªã—</p>`;
                }


                // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥æœ€çµ‚æˆç¸¾
                finalPlayerSummary.innerHTML = '';
                currentRound.players.forEach(player => {
                    const totalBetAmount = player.totalPoints * currentRound.betAmount;
                    const playerSummaryDiv = document.createElement('div');
                    playerSummaryDiv.className = 'flex justify-between items-center border-b pb-2 last:border-b-0';
                    playerSummaryDiv.innerHTML = `
                        <span class="font-semibold text-gray-800">${player.name}:</span>
                        <div>
                            <span class="font-bold text-lg ${player.totalPoints >= 0 ? 'text-green-700' : 'text-red-700'}">${player.totalPoints} Pts</span>
                            <span class="ml-4 text-gray-600">(${totalBetAmount >= 0 ? '+' : ''}${totalBetAmount}å††)</span>
                        </div>
                    `;
                    finalPlayerSummary.appendChild(playerSummaryDiv);
                });

                // ãƒ›ãƒ¼ãƒ«åˆ¥è©³ç´°
                holeByHoleDetails.innerHTML = '';
                for (let i = 0; i < currentRound.currentHole; i++) { // ãƒ—ãƒ¬ã‚¤ã—ãŸãƒ›ãƒ¼ãƒ«ã®ã¿è¡¨ç¤º
                    const holeNum = i + 1;
                    const par = currentRound.holePars[i];
                    const holeDetailDiv = document.createElement('div');
                    holeDetailDiv.className = 'bg-gray-50 p-4 rounded-lg shadow-sm';
                    holeDetailDiv.innerHTML = `
                        <h4 class="text-md font-bold text-gray-800 mb-2">HOLE ${holeNum} (PAR ${par})</h4>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            ${currentRound.players.map(player => {
                                const score = player.scores[i];
                                const bonusAward = player.holeBonuses[i];
                                let scoreText = score !== null ? `${score}æ‰“` : 'æœªå…¥åŠ›';
                                let bonusText = '';
                                if (bonusAward === 'diamond') bonusText = ' (ğŸ’)';
                                else if (bonusAward === 'gold') bonusText = ' (ğŸ¥‡)';
                                else if (bonusAward === 'silver') bonusText = ' (ğŸ¥ˆ)';
                                else if (bonusAward === 'bronze') bonusText = ' (ğŸ¥‰)';

                                return `
                                    <div class="flex justify-between">
                                        <span>${player.name}:</span>
                                        <span class="font-semibold">${scoreText}${bonusText}</span>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `;
                    holeByHoleDetails.appendChild(holeDetailDiv);
                }
            }

            backToHomeFromResultsBtn.addEventListener('click', () => {
                showSection(homeSection);
                checkSavedGameAndShowResumeButton(); // ãƒ›ãƒ¼ãƒ ã«æˆ»ã£ãŸã‚‰å†é–‹ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
            });

            // ä¿å­˜ã•ã‚ŒãŸã‚²ãƒ¼ãƒ ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã€å†é–‹ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹é–¢æ•°
            function checkSavedGameAndShowResumeButton() {
                const savedRound = loadGame();
                if (savedRound) {
                    resumeRoundBtn.classList.remove('hidden');
                } else {
                    resumeRoundBtn.classList.add('hidden');
                }
            }

            // ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã®åˆæœŸè¡¨ç¤º
            document.addEventListener('DOMContentLoaded', () => {
                showSection(homeSection);
                checkSavedGameAndShowResumeButton(); // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
            });
        </script>
    </body>
    </html>
